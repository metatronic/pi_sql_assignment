CREATE TABLE CUSTOMER(
CUSTOMERID NUMERIC(3) PRIMARY KEY NOT NULL,
CUSTOMERNAME VARCHAR(20) NOT NULL
)

CREATE TABLE CATEGORY(
CATEGORYID NUMERIC(3) PRIMARY KEY NOT NULL,
CATEORYNAME VARCHAR(20) UNIQUE NOT NULL,
DESCRIPTION VARCHAR(20) NULL
)

CREATE TABLE PRODUCT(
PRODUCTID NUMERIC(3) PRIMARY KEY NOT NULL,
PRODUCTNAME VARCHAR(20) NOT NULL,
CATEGORYID NUMERIC(3) NOT NULL REFERENCES CATEGORY(CATEGORYID),
PRICE NUMERIC(10,2) NOT NULL CHECK(PRICE > 50),
QUANTITY NUMERIC(3) NOT NULL CHECK(QUANTITY > 0)
)

CREATE TABLE ORDERS(
ORDERYEAR NUMERIC(3) NOT NULL,
ORDERMONTH NUMERIC(20) NOT NULL,
ORDERID NUMERIC(20) NOT NULL,
ORDERDATE DATETIME DEFAULT GETDATE(),
PRODUCTID NUMERIC(3) NOT NULL REFERENCES PRODUCT(PRODUCTID),
CUSTOMERID NUMERIC(3) NOT NULL REFERENCES CUSTOMER(CUSTOMERID),
ORDERQTY NUMERIC(3) NOT NULL CHECK (ORDERQTY > 0),
PRIMARY KEY(ORDERYEAR,ORDERMONTH,ORDERID)
)

SELECT * FROM CUSTOMER
SELECT * FROM CATEGORY
SELECT * FROM PRODUCT
SELECT * FROM ORDERS

ALTER TABLE CUSTOMER ADD ADDRESS VARCHAR(20) CHECK (ADDRESS = 'MUMBAI' OR ADDRESS = 'DELHI' OR ADDRESS = 'PUNE')

ALTER TABLE ORDERS DROP CONSTRAINT PK__ORDERS__29A2FC0F2E9C5186

ALTER TABLE ORDERS ALTER COLUMN ORDERYEAR VARCHAR(4) NOT NULL

ALTER TABLE ORDERS ADD CONSTRAINT PK__ORDERS PRIMARY KEY (ORDERYEAR, ORDERMONTH, ORDERID)

ALTER TABLE ORDERS DROP CONSTRAINT PK__ORDERS

ALTER TABLE ORDERS ALTER COLUMN ORDERMONTH INT NOT NULL

ALTER TABLE ORDERS ADD CONSTRAINT PK__ORDERS PRIMARY KEY (ORDERYEAR, ORDERMONTH, ORDERID)

ALTER TABLE CATEGORY DROP COLUMN DESCRIPTION

INSERT INTO CUSTOMER VALUES(1,'AJAY','MUMBAI')
INSERT INTO CUSTOMER VALUES(2,'CHIRAG','DELHI')
INSERT INTO CUSTOMER VALUES(3,'AMIT','PUNE')

INSERT INTO CATEGORY VALUES(1,'FOOD')
INSERT INTO CATEGORY VALUES(2,'ELECTRONICS')
INSERT INTO CATEGORY VALUES(3,'STATIONARY')

INSERT INTO PRODUCT VALUES (101,'TEA',1,60,100)
INSERT INTO PRODUCT VALUES (102,'PEN',3,80,50)
INSERT INTO PRODUCT VALUES (103,'NOTE BOOK',3,125,200)
INSERT INTO PRODUCT VALUES (104,'COFFEE',1,80,100)
INSERT INTO PRODUCT VALUES (105,'TV',2,15000,5)
INSERT INTO PRODUCT VALUES (106,'WASHING MACHINE',2,12000,5)

INSERT INTO ORDERS VALUES (2010,1,1,DEFAULT,101,2,10)
INSERT INTO ORDERS VALUES (2010,1,2,DEFAULT,104,1,2)
INSERT INTO ORDERS VALUES (2010,2,1,DEFAULT,105,3,1)
INSERT INTO ORDERS VALUES (2010,2,2,DEFAULT,101,1,5)
INSERT INTO ORDERS VALUES (2010,2,3,DEFAULT,106,2,1)
INSERT INTO ORDERS VALUES (2011,1,1,DEFAULT,104,1,2)
